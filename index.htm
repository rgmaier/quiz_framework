<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Framework</title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700">
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile.structure-1.4.5.min.css" /> 
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
	<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script> 
	<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script> 
	<style id="custom-icon">
        .ui-icon-custom:after {
			background-image: url("../_assets/img/glyphish-icons/21-skull.png");
			background-position: 3px 3px;
			background-size: 70%;
		}
    </style>
	<script>
	var currentLevel = 0;
	var questionsInCurrentLevel = [0,1];
	var score = 0;
	var correctAnswer = "";
	
	function shuffleArray(array) {
		for (var i = array.length - 1; i > 0; i--) {
			var j = Math.floor(Math.random() * (i + 1));
			var temp = array[i];
			array[i] = array[j];
			array[j] = temp;
		}
		return array;
	}
	function getNewQuestion(){
		var i = Math.floor((Math.random()*2));
		$.getJSON("questions.json",function (data) {
			var answer = shuffleArray([data.level[currentLevel].questions[i].answer1,data.level[currentLevel].questions[i].answer2,data.level[currentLevel].questions[i].answer3,data.level[currentLevel].questions[i].answer4]);
			correctAnswer = data.level[currentLevel].questions[i].correctAnswer;
			$("#guess").attr("src",data.level[currentLevel].questions[i].url);
			$("#a1").text(answer[0]);
			$("#a2").text(answer[1]);
			$("#a3").text(answer[2]);
			$("#a4").text(answer[3]);
		});

	}
	
	function checkIfCorrect(answer){
		if(answer.innerText == correctAnswer){
			$("#check").text("correct");
			score++;
			correctAnswer = "";
		}
		else{
			$("#check").text("incorrect");}
	}

	function clearScore(){
		score = 0;
	}

	function setScore(){
	
	}

	
	
	</script>
</head>
<body>
<div data-role="page" id="page_home">
	<div data-role="header">
	<h1>Home</h1>
	
		</div>

	<div data-role="main" class="ui-content">
	<div>
	Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</div>
	<a href="#page_play" class="ui-btn" id="startgame" onClick="getNewQuestion()">Let's Play!</a>
	</div>
	
	<div data-role="footer">
		<div data-role="navbar">
		<ul>
		  <li><a href="#page_contact" data-icon="info">Contact</a></li>
		</ul>
	</div>
	</div>
</div>

<div data-role="page" id="page_play">
	<div data-role="header">
	<h1>Let's play</h1>
		
	
	</div>

	<div data-role="main" class="ui-content">
	<img src="#" width="100%" height="100%" id="guess"></img>
	&nbsp;</br>
	<ul data-role="listview">
      <li><a href="#answerCheck" data-rel="popup" data-position-to="window" data-transition="fade" onClick="checkIfCorrect(this)" id="a1"></a></li>
      <li><a href="#answerCheck" data-rel="popup" data-position-to="window" data-transition="fade" onClick="checkIfCorrect(this)" id="a2"></a></li>
      <li><a href="#answerCheck" data-rel="popup" data-position-to="window" data-transition="fade" onClick="checkIfCorrect(this)" id="a3"></a></li>
	  <li><a href="#answerCheck" data-rel="popup" data-position-to="window" data-transition="fade" onClick="checkIfCorrect(this)" id="a4"></a></li>
    </ul>
	</div>
	
	<div data-role="popup" id="answerCheck" data-overlay-theme="b" data-dismissible="false" class="ui-content">
        This answer is <b id="check"></b>!</br>
		</br>
        <a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b ui-icon-arrow-r ui-btn-icon-left" data-rel="back" onClick="getNewQuestion()">Next question</a>
    </div>
	
	<!-- This popup shows the score and the current level. -->
	<div data-role="popup" id="popup_score" data-overlay-theme="b" class="ui-content">
	<a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn ui-icon-delete ui-btn-icon-notext ui-btn-right">Close</a>
   
        This answer is <b id="check"></b>!</br>
		</br>

    </div>
	
	<!-- This popup shows the contact information of the author. -->
	<div data-role="popup" id="popup_contact" data-overlay-theme="b" class="ui-content">
		<a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn ui-icon-delete ui-btn-icon-notext ui-btn-right">Close</a>
        <p>This answer is <b id="check"></b>!</br></p>
		</br>
    </div>
	
	<div data-role="footer">
		<div data-role="navbar">
		<ul>
		  <li><a href="#page_home" data-icon="home" onClick="clearScore()">Home</a></li>
		  <li><a href="#popup_score" data-icon="grid" data-rel="popup" data-position-to="window" data-transition="fade" onClick="setScore()">Current Score</a></li>
		  <li><a href="#popup_contact" data-icon="info" data-rel="popup" data-position-to="window" data-transition="fade">Contact</a></li>
		</ul>
	</div>
	</div>
</div>
</body>
</html>